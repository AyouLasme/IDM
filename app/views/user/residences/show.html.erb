<h1><%= @residence.nom_de_la_residence %></h1>

<% if @residence.images.attached? %>
  <div class="residence-images">
    <% @residence.images.each do |image| %>
      <a href="<%= rails_blob_path(image, only_path: true) %>" target="_blank">
        <img src="<%= rails_blob_path(image, only_path: true) %>" style="max-width: 300px; max-height: 300px; margin: 10px;" alt="<%= @residence.nom_de_la_residence %>">
      </a>
    <% end %>
  </div>
<% else %>
  <p>Pas d'images disponibles</p>
<% end %>

<p><%= @residence.description %></p>

<h2>Réserver la résidence entière</h2>
<%= link_to "Faire une réservation", new_user_residence_reservation_path(@residence), class: "button" %>

<h2>Pièces disponibles</h2>
<% if @pieces.any? %>
  <% @pieces.each do |piece| %>
    <div class="piece-card" style="border: 1px solid #ddd; padding: 16px; margin: 16px 0;">
      <h3><%= piece.nom %></h3>
      <p><%= piece.description %></p>
      <%= link_to "Réserver cette pièce", new_user_residence_piece_reservation_path(@residence, piece), class: "button", style: "background-color: #007bff; color: #fff; padding: 8px 16px; text-decoration: none; border-radius: 4px;" %>
    </div>
  <% end %>
<% else %>
  <p>Aucune pièce disponible pour cette résidence.</p>
<% end %>
